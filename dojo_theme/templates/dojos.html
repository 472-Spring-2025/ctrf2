{% extends "base.html" %}
{% from "macros/widgets.html" import card %}

{% block content %}
<div class="jumbotron">
  <div class="container">
    <h1>Current Courses</h1>
  </div>
</div>
<div class="container">
  <ul class="card-list">
    {% for dojo in dojos %}
      {% if dojo.type == "course" %}
        {{ card(url_for("pwncollege_dojos.view_dojo", dojo=dojo.reference_id), dojo.name, "{} Modules".format(dojo.modules | length)) }}
      {% endif %}
    {% endfor %}
    {% for dojo in dojos %}
      {% if dojo.type == "topic" %}
        {{ card(url_for("pwncollege_dojos.view_dojo", dojo=dojo.reference_id), dojo.name, "{} Modules".format(dojo.modules | length)) }}
      {% endif %}
    {% endfor %}
    {% for dojo in dojos %}
      {% if dojo.type not in ["course", "topic"] %}
        {{ card(url_for("pwncollege_dojos.view_dojo", dojo=dojo.reference_id), dojo.name, "{} Modules".format(dojo.modules | length)) }}
      {% endif %}
    {% endfor %}
  </ul>
</div>
{% endblock %}

{% block scripts %}
{% endblock %}
